// Climate Change Plugin
const React = window.React;

var L=({context:N})=>{let{useState:r}=React,{theme:f,apiClient:M,metadata:l,utils:i}=N,p=f?.mode||"light",t=p==="dark",[d,n]=r("52.52"),[m,c]=r("13.41"),[x,w]=r("2024-01-01"),[y,C]=r("2024-12-31"),[g,v]=r(!1),[u,h]=r(null),[a,$]=r(null),_=async()=>{v(!0),h(null);try{let e=`https://climate-api.open-meteo.com/v1/climate?latitude=${d}&longitude=${m}&start_date=${x}&end_date=${y}&daily=temperature_2m_mean,temperature_2m_max,temperature_2m_min&models=EC_Earth3P_HR`;console.log("Fetching climate data from:",e);let o=await fetch(e);if(!o.ok)throw new Error(`API error: ${o.status} ${o.statusText}`);let b=await o.json();$(b),i.toast("Climate data loaded successfully!","success")}catch(e){let o=e instanceof Error?e.message:"Unknown error occurred";h(o),i.toast(`Failed to load climate data: ${o}`,"error"),console.error("Climate API error:",e)}finally{v(!1)}},k=async()=>{try{let e={latitude:parseFloat(d),longitude:parseFloat(m),name:`Location (${d}, ${m})`};console.log("Would save to portal backend:",e),i.toast("Note: This would save to portal backend (not implemented)","info")}catch(e){console.error("Error saving favorite:",e),i.toast("Failed to save favorite location","error")}},s=a?(()=>{if(!a||!a.daily)return null;let e=a.daily.temperature_2m_mean,o=e.reduce((F,E)=>F+E,0)/e.length,b=Math.max(...a.daily.temperature_2m_max),D=Math.min(...a.daily.temperature_2m_min);return{average:o.toFixed(1),maximum:b.toFixed(1),minimum:D.toFixed(1),dataPoints:e.length}})():null;return React.createElement("div",{className:`min-h-screen p-6 ${t?"bg-gray-900 text-white":"bg-gray-50 text-gray-900"}`},React.createElement("div",{className:"max-w-6xl mx-auto"},React.createElement("div",{className:"mb-8"},React.createElement("h1",{className:"text-4xl font-bold mb-2"},l.title||l.name),React.createElement("p",{className:"text-lg opacity-75"},l.description),React.createElement("p",{className:"text-sm opacity-50 mt-1"},"Version ",l.version," \u2022 Current theme: ",p)),React.createElement("div",{className:`p-6 rounded-lg shadow-lg mb-6 ${t?"bg-gray-800":"bg-white"}`},React.createElement("h2",{className:"text-2xl font-semibold mb-4"},"Location & Date Range"),React.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4"},React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium mb-2"},"Latitude"),React.createElement("input",{type:"number",step:"0.01",value:d,onChange:e=>n(e.target.value),className:`w-full px-4 py-2 rounded border ${t?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"} focus:outline-none focus:ring-2 focus:ring-blue-500`,placeholder:"e.g., 52.52"})),React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium mb-2"},"Longitude"),React.createElement("input",{type:"number",step:"0.01",value:m,onChange:e=>c(e.target.value),className:`w-full px-4 py-2 rounded border ${t?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"} focus:outline-none focus:ring-2 focus:ring-blue-500`,placeholder:"e.g., 13.41"})),React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium mb-2"},"Start Date"),React.createElement("input",{type:"date",value:x,onChange:e=>w(e.target.value),className:`w-full px-4 py-2 rounded border ${t?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"} focus:outline-none focus:ring-2 focus:ring-blue-500`})),React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium mb-2"},"End Date"),React.createElement("input",{type:"date",value:y,onChange:e=>C(e.target.value),className:`w-full px-4 py-2 rounded border ${t?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"} focus:outline-none focus:ring-2 focus:ring-blue-500`}))),React.createElement("div",{className:"flex gap-3"},React.createElement("button",{onClick:_,disabled:g,className:`px-6 py-3 rounded font-medium transition-colors ${g?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 text-white"}`},g?"Loading...":"Fetch Climate Data"),React.createElement("button",{onClick:k,className:`px-6 py-3 rounded font-medium transition-colors ${t?"bg-gray-700 hover:bg-gray-600 text-white":"bg-gray-200 hover:bg-gray-300 text-gray-900"}`},"Save as Favorite (Demo)")),React.createElement("div",{className:"mt-4 flex flex-wrap gap-2"},React.createElement("span",{className:"text-sm opacity-75"},"Quick locations:"),React.createElement("button",{onClick:()=>{n("52.52"),c("13.41")},className:"text-sm px-3 py-1 rounded bg-blue-500 text-white hover:bg-blue-600"},"Berlin"),React.createElement("button",{onClick:()=>{n("40.71"),c("-74.01")},className:"text-sm px-3 py-1 rounded bg-blue-500 text-white hover:bg-blue-600"},"New York"),React.createElement("button",{onClick:()=>{n("35.68"),c("139.65")},className:"text-sm px-3 py-1 rounded bg-blue-500 text-white hover:bg-blue-600"},"Tokyo"))),u&&React.createElement("div",{className:"mb-6 p-4 bg-red-100 border border-red-400 text-red-700 rounded"},React.createElement("strong",null,"Error:")," ",u),s&&React.createElement("div",{className:`p-6 rounded-lg shadow-lg mb-6 ${t?"bg-gray-800":"bg-white"}`},React.createElement("h2",{className:"text-2xl font-semibold mb-4"},"Temperature Statistics"),React.createElement("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4"},React.createElement("div",{className:`p-4 rounded ${t?"bg-gray-700":"bg-gray-100"}`},React.createElement("div",{className:"text-sm opacity-75"},"Average"),React.createElement("div",{className:"text-3xl font-bold"},s.average,"\xB0C")),React.createElement("div",{className:`p-4 rounded ${t?"bg-gray-700":"bg-gray-100"}`},React.createElement("div",{className:"text-sm opacity-75"},"Maximum"),React.createElement("div",{className:"text-3xl font-bold text-red-500"},s.maximum,"\xB0C")),React.createElement("div",{className:`p-4 rounded ${t?"bg-gray-700":"bg-gray-100"}`},React.createElement("div",{className:"text-sm opacity-75"},"Minimum"),React.createElement("div",{className:"text-3xl font-bold text-blue-500"},s.minimum,"\xB0C")),React.createElement("div",{className:`p-4 rounded ${t?"bg-gray-700":"bg-gray-100"}`},React.createElement("div",{className:"text-sm opacity-75"},"Data Points"),React.createElement("div",{className:"text-3xl font-bold"},s.dataPoints)))),a&&a.daily&&React.createElement("div",{className:`p-6 rounded-lg shadow-lg ${t?"bg-gray-800":"bg-white"}`},React.createElement("h2",{className:"text-2xl font-semibold mb-4"},"Daily Temperature Data"),React.createElement("div",{className:"overflow-x-auto"},React.createElement("table",{className:"w-full"},React.createElement("thead",null,React.createElement("tr",{className:`border-b ${t?"border-gray-700":"border-gray-200"}`},React.createElement("th",{className:"text-left py-3 px-4"},"Date"),React.createElement("th",{className:"text-right py-3 px-4"},"Mean (\xB0C)"),React.createElement("th",{className:"text-right py-3 px-4"},"Max (\xB0C)"),React.createElement("th",{className:"text-right py-3 px-4"},"Min (\xB0C)"))),React.createElement("tbody",null,a.daily.time.slice(0,20).map((e,o)=>React.createElement("tr",{key:e,className:`border-b ${t?"border-gray-700":"border-gray-200"}`},React.createElement("td",{className:"py-2 px-4"},e),React.createElement("td",{className:"text-right py-2 px-4"},a.daily.temperature_2m_mean[o].toFixed(1)),React.createElement("td",{className:"text-right py-2 px-4 text-red-500"},a.daily.temperature_2m_max[o].toFixed(1)),React.createElement("td",{className:"text-right py-2 px-4 text-blue-500"},a.daily.temperature_2m_min[o].toFixed(1)))))),a.daily.time.length>20&&React.createElement("p",{className:"text-sm opacity-75 mt-4 text-center"},"Showing first 20 of ",a.daily.time.length," data points"))),!a&&!g&&!u&&React.createElement("div",{className:`p-12 rounded-lg shadow-lg text-center ${t?"bg-gray-800":"bg-white"}`},React.createElement("div",{className:"text-6xl mb-4"},"\u{1F30D}"),React.createElement("h3",{className:"text-2xl font-semibold mb-2"},"No Data Yet"),React.createElement("p",{className:"opacity-75"},'Enter coordinates and date range, then click "Fetch Climate Data" to visualize temperature trends.'))))},S={component:L,metadata:{name:"climate-change-plugin",version:"1.0.0",author:"Your Name"},hooks:{onMount(){console.log("[Climate Change Plugin] mounted")},onUnmount(){console.log("[Climate Change Plugin] unmounted")}}};export{S as default};
//# sourceMappingURL=plugin.js.map
